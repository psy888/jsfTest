CREATE SEQUENCE order_item_id_seq;

CREATE TABLE order_item
(
    id bigint NOT NULL,
    quantity integer,
    coffee_type_id bigint,
    order_id bigint,
    CONSTRAINT order_item_pkey PRIMARY KEY (id),
    CONSTRAINT unique_type_in_order UNIQUE (coffee_type_id, order_id),
    CONSTRAINT coffeeOrder FOREIGN KEY (coffee_type_id)
        REFERENCES coffee_type (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT coffeeType FOREIGN KEY (order_id)
        REFERENCES coffee_order (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
);