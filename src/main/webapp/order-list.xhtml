<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
<h:head></h:head>
<h:body>
    <ui:composition>

        <rich:panel header="#{msg['orderFormHeader']}">
            <h:dataTable value="#{orderView.currentOrder.orderedItemsDTO}" var="orderItem">

                <rich:columnGroup>
                    <rich:column>
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText value="#{msg['itemTitleColumn']}"/>
                            </h:panelGroup>
                        </f:facet>
                        <h:outputText value="#{orderItem.coffeeType.name}"/>
                    </rich:column>

                    <rich:column>
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText value="#{msg['priceColumn']}"/>
                            </h:panelGroup>
                        </f:facet>
                        <h:outputText value="#{orderItem.coffeeType.price}">
                            <f:convertNumber type="currency" currencySymbol="#{msg['currency']}"/>
                        </h:outputText>
                        <h:outputText value="#{msg['currency']}"/>
                    </rich:column>

                    <rich:column>
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText value="#{msg['quantityColumn']}"/>
                            </h:panelGroup>
                        </f:facet>
                        <h:outputText value="#{orderItem.quantity}"/>
                    </rich:column>

                    <rich:column>
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText value="#{msg['totalPriceColumn']}"/>
                            </h:panelGroup>
                        </f:facet>
                        <h:outputText value="#{orderItem.totalPrice}">
                            <f:convertNumber type="currency" currencySymbol="#{msg['currency']}"/>
                        </h:outputText>
                    </rich:column>
                </rich:columnGroup>

                <!--           subtotal sum row               -->
                <rich:column colspan="3">
                    <h:outputText value="#{msg['totalPrice']}"/>
                </rich:column>
                <rich:column colspan="1">
                    <h:outputText value="#{orderView.currentOrder.totalSumWODelivery}"/>
                </rich:column>

                <!--            delivery row            -->
                <rich:column colspan="3">
                    <h:outputText value="#{msg['deliveryLabel']}"/>
                </rich:column>
                <rich:column colspan="1">
                    <h:outputText value="#{orderView.currentOrder.deliveryPrice}"/>
                </rich:column>

                <!--            total sum row               -->
                <rich:column colspan="3">
                    <h:outputText value="#{msg['totalPrice']}"/>
                </rich:column>
                <rich:column colspan="1">
                    <h:outputText value="#{orderView.currentOrder.totalSum}"/>
                </rich:column>

            </h:dataTable>


        </rich:panel>

    </ui:composition>
</h:body>
</html>